<div class="route-details">
    <h1>{{ stopName(origin) }} - {{ stopName(destination) }}</h1>
    <div class="loading alert alert-info" ng-show="!loaded">
        <i class="fa fa-spinner fa-pulse"></i>
        טוען נתונים...
    </div>

    <table class="table table-striped" ng-show="loaded">
        <colgroup span="2">
        </colgroup>
        <colgroup span="5">
        </colgroup>
        <colgroup span="5">
        </colgroup>
        <thead>
            <tr class="table-header-primary">
                <th scope="colgroup" colspan="2">תחנות</th>
                <th scope="colgroup" colspan="5">הגעה לתחנה</th>
                <th scope="colgroup" colspan="5">יציאה מהתחנה</th>
            </tr>
            <tr class="table-header-secondary">
                <th></th>
                <th></th>
                <th>איחור ממוצע</th>
                <th>% הקדמה</th>
                <th>% הגעה בזמן</th>
                <th>% איחור קל</th>
                <th>% איחור כבד</th>
                <th>איחור ממוצע</th>
                <th>% הקדמה</th>
                <th>% הגעה בזמן</th>
                <th>% איחור קל</th>
                <th>% איחור כבד</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="stat in stats">
                <td class="stop-diagram" ng-class="{ 'stop-diagram-start': $first, 'stop-diagram-end': $last }">
                    <div class="stop-diagram-number">
                        {{ $index +1 }}
                    </div>
                </td>
                <th>{{ stopName(stat.stop_id) }}</th>

                <td><span class="duration">{{ stat.arrival_avg_delay | duration }}</span></td>
                <td><rex-percent-bar value="stat.arrival_early_pct" type="'info'"></rex-percent-bar></td>
                <td><rex-percent-bar value="stat.arrival_on_time_pct" type="'success'"></rex-percent-bar></td>
                <td><rex-percent-bar value="stat.arrival_short_delay_pct" type="'warning'"></rex-percent-bar></td>
                <td><rex-percent-bar value="stat.arrival_long_delay_pct" type="'danger'"></rex-percent-bar></td>

                <td><span class="duration">{{ stat.departure_avg_delay | duration }}</span></td>
                <td><rex-percent-bar value="stat.departure_early_pct" type="'info'"></rex-percent-bar></td>
                <td><rex-percent-bar value="stat.departure_on_time_pct" type="'success'"></rex-percent-bar></td>
                <td><rex-percent-bar value="stat.departure_short_delay_pct" type="'warning'"></rex-percent-bar></td>
                <td><rex-percent-bar value="stat.departure_long_delay_pct" type="'danger'"></rex-percent-bar></td>

            </tr>
        </tbody>
    </table>
</div>
