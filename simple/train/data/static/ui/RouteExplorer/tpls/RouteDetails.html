<div class="route-details">
    <h1>פרטי מסלול</h1>
    <div class="loading alert alert-info" ng-show="!loaded">
        <i class="fa fa-spinner fa-pulse"></i>
        טוען נתונים...
    </div>

    <table class="table table-striped" ng-show="loaded">
        <colgroup span="2">
        </colgroup>
        <colgroup span="3">
        </colgroup>
        <colgroup span="1">
        </colgroup>
        <thead>
            <tr class="table-header-primary">
                <th scope="colgroup" colspan="2">תחנות</th>
                <th scope="colgroup" colspan="3">הגעה לתחנה</th>
                <th scope="colgroup" colspan="3">יציאה מהתחנה</th>
            </tr>
            <tr class="table-header-secondary">
                <th></th>
                <th></th>
                <th>איחור ממוצע</th>
                <th>% איחור > 2 דקות</th>
                <th>% איחור > 5 דקות</th>
                <th>איחור ממוצע</th>
                <th>% איחור > 2 דקות</th>
                <th>% איחור > 5 דקות</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="stat in stats">
                <td class="stop-diagram" ng-class="{ 'stop-diagram-start': $first, 'stop-diagram-end': $last }">
                    <div class="stop-diagram-number">
                        {{ $index +1 }}
                    </div>
                </td>
                <th>{{ stopName(stat.stop_id) }}</th>
                <td>{{ stat.avg_arrival_delay | duration }}</td>
                <td>
                    <span class="delay-percent">{{ stat.delay_2min_pct * 100 | number: 0 }}%</span>
                    <div class="progress progress-inline">
                        <div class="progress-bar progress-bar-warning" ng-style="{ width: (stat.delay_2min_pct * 100) + '%' }"></div>
                    </div>
                </td>
                <td>
                    <span class="delay-percent">{{ stat.delay_5min_pct * 100 | number: 0 }}%</span>
                    <div class="progress progress-inline">
                        <div class="progress-bar progress-bar-danger" ng-style="{ width: (stat.delay_5min_pct * 100) + '%' }"></div>
                    </div>
                </td>
                <td>{{ stat.avg_departure_delay | duration }}</td>
                <td>
                    <span class="delay-percent">{{ stat.delay_2min_pct * 100 | number: 0 }}%</span>
                    <div class="progress progress-inline">
                        <div class="progress-bar progress-bar-warning" ng-style="{ width: (stat.delay_2min_pct * 100) + '%' }"></div>
                    </div>
                </td>
                <td>
                    <span class="delay-percent">{{ stat.delay_5min_pct * 100 | number: 0 }}%</span>
                    <div class="progress progress-inline">
                        <div class="progress-bar progress-bar-danger" ng-style="{ width: (stat.delay_5min_pct * 100) + '%' }"></div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
