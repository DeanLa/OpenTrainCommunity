<div>
    <div>
        <tr>
            <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td># of trips</td>
            <td># of stops</td>
            <td>From</td>
            <td></td>
            <td>To</td>
        </tr>
        <hr/>
    </div>
    <div ng-repeat="route in routes" ng-controller="RouteController">
        <table>
            <tr>
                <td>
                    <button ng-hide="expanded" ng-click="expand()">&plus;</button>
                    <button ng-show="expanded" ng-click="collapse()">&minus;</button>
                    </button></td>
                <td>{{route.count}}</td>
                <td>{{route.stops.length}}</td>
                <td>{{route.stops[0].stop_name}}</td>
                <td>&rarr;</td>
                <td>{{route.stops[route.stops.length-1].stop_name}}</td>
            </tr>
        </table>
        <div ng-if="expanded">
            Count = {{routeInfo.count}}
            <table ng-show="routeInfo">
                <tr>
                    <td>Stop id</td>
                    <td>Stop name</td>
                    <td>Average Arrival Delay</td>
                    <td>Average Departure Delay</td>
		    <td>% arrival &ge; 2 minutes </td>
		    <td>% arrival &ge; 5 minutes </td>
                </tr>
                <tr ng-repeat="stop in routeInfo.stops">
                    <td>{{stop.gtfs_stop_id}}</td>
                    <td>{{stop.stop_name}}</td>
                    <td>{{stop.avg_delay_arrival | number:1}}</td>
                    <td>{{stop.avg_delay_departure | number:1}}</td>
		    <td>{{100*stop.delay_arrival_gte2 | number:1}}%</td>
		    <td>{{100*stop.delay_arrival_gte5 | number:1}}%</td>
                </tr>
            </table>
        </div>
        <hr/>
    </div>
</div>




